<tool id="pcdl_make_conc_vtk" name="pcdl_make_conc_vtk" version="3.0.0+galaxy0" python_template_version="3.5" profile="21.05">
    <requirements>
        <requirement type="package" version="3.3.6">pcdl</requirement>
    </requirements>

    <command detect_errors="exit_code"><![CDATA[
        pcdl_make_conc_vtk '$input1' --verbose false
    ]]></command>

    <inputs>
        <section name="positional_arguments" title="positional arguments:" expanded="true">
        <param
            name="path" label="path"
            type="data_collection" collection_type="list"
            help="path to the PhysiCell output data collection"
        />
        </section>

        <section name="options" title="options:" expanded="true">
        <param
            name="verbose" label="verbose"
            type="boolean" truevalue="true" falsevalue="false" checked="false"
            help="setting verbose to True for more text output, while processing. default is False."
        />
        </section>
    </inputs>

    <outputs>
        <data name="output1" format="vtkxml" from_work_dir="output_3d/output00000000_conc.vtr" />
    </outputs>

    <help><![CDATA[
function generates rectilinear grid vtk files, one per mcds time step, contains distribution of substrates over microenvironment. you can post-process this files in other software like paraview (https://www.paraview.org/).

homepage: https://github.com/elmbeech/physicelldataloader
    ]]></help>

    <citations>
        <citation type="bibtex">
        @misc{githubphysicelldataloader,
            author = {Bucher, Elmar},
            year = {2025},
            title = {physicelldataloader},
            publisher = {GitHub},
            journal = {GitHub repository},
            url = {https://github.com/elmbeech/physicelldataloader},
        }</citation>
    </citations>
</tool>
